<template>
  <require from="common/controls/pager"></require>

  <div>
    <!-- buttons -->
    <button type="button" class="btn btn-default" click.trigger="createAdjustment()" disabled.bind="!canCreateAdjustment">
      <i class="fa fa-plus"></i> Adjust
    </button>
  </div>
  <br />
  
  <!-- list -->
  <div class="table-responsive">
    <table class="table table-striped table-hover table-condensed">

      <thead>
        <tr class="row-no-padding">
          <th class="col-md-2" click.delegate="sorter.doSort('adjustedBy')">
            <i class="fa fa-fw fa-${sorter.class(sorter['adjustedBy'])}"></i>Adjusted By
          </th>
          <th class="col-md-2" click.delegate="sorter.doSort('adjustedOn')">
            <i class="fa fa-fw fa-${sorter.class(sorter['adjustedOn'])}"></i>Adjusted On
          </th>
          <th class="col-md-4" click.delegate="sorter.doSort('reason')">
            <i class="fa fa-fw fa-${sorter.class(sorter['reason'])}"></i>Reason
          </th>
          <th class="col-md-2" click.delegate="sorter.doSort('type')">
            <i class="fa fa-fw fa-${sorter.class(sorter['type'])}"></i>Type
          </th>
          <th class="col-md-2" click.delegate="sorter.doSort('quantity')">
            <i class="fa fa-fw fa-${sorter.class(sorter['quantity'])}"></i>Quantity
          </th>
        </tr>
      </thead>

      <tbody>
        <tr repeat.for="item of pager.items" click.delegate="view(item)">
          <td>${item.adjustedBy}</td>
          <td>${item.adjustedOn | dateFormat}</td>
          <td>${item.reason}</td>
          <td>${item.type}</td>
          <td class="text-right">${item.quantity}</td>
        </tr>
      </tbody>

    </table>
  </div>
  
  <!-- pager -->
  <pager current-page.bind="pager.offset" total-items.bind="pager.count" change.delegate="pager.doPage($event)" />

</template>